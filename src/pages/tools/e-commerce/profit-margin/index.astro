---
import BaseLayout from "../../../../components/layout/BaseLayout.astro";
import { site } from "../../../../config/site";
---

<BaseLayout
  title="Profit Margin Calculator — Free & Instant | SimpleTools"
  description="Calculate net profit and profit margin after product cost, platform fees, payment fees, shipping, and ads. Free, no login."
  canonical={`${site.url}/tools/e-commerce/profit-margin/`}
>
  <article class="page">
    <div class="badge">Free • No login • Instant</div>

    <h1>Profit Margin Calculator</h1>
    <p class="lead">
      Calculate your real net profit and net margin after all variable costs.
      Designed for quick decisions with clear formulas.
    </p>

    <!-- CALCULATOR -->
    <section class="calc">
      <div class="calcWrap">
        <!-- LEFT: INPUTS -->
        <div class="calcLeft">
          <div class="calcField">
            <label>Selling price (USD)</label>
            <input id="price" type="number" placeholder="e.g. 50" />
          </div>

          <div class="calcField">
            <label>Product cost (COGS)</label>
            <input id="cost" type="number" placeholder="e.g. 15" />
          </div>

          <div class="calcField">
            <label>Platform fee (%)</label>
            <input id="platformFee" type="number" placeholder="e.g. 15" />
          </div>

          <div class="calcField">
            <label>Payment fee (%)</label>
            <input id="paymentFee" type="number" placeholder="e.g. 2.9" />
          </div>

          <div class="calcField">
            <label>Shipping cost</label>
            <input id="shipping" type="number" placeholder="e.g. 5" />
          </div>

          <div class="calcField">
            <label>Ad cost per order</label>
            <input id="ads" type="number" placeholder="e.g. 10" />
          </div>
        </div>

        <!-- RIGHT: RESULTS -->
        <div class="calcRight">
          <div class="calcResultCard">
            <div class="resultItem">
              <div class="label">Net Profit</div>
              <div class="value" id="netProfit">$0.00</div>
            </div>

            <div class="resultItem">
              <div class="label">Net Margin</div>
              <div class="value" id="netMargin">0%</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- EXPLANATION -->
    <section class="info">
      <h2>How it works</h2>
      <p>
        The calculator subtracts all variable costs from your selling price.
        Percentage-based fees are calculated from revenue, while shipping and advertising
        are treated as fixed costs per order.
      </p>

      <h2>Formula</h2>
      <pre class="formula">
Net profit =
Price
− Product cost
− (Platform fee % × Price)
− (Payment fee % × Price)
− Shipping
− Ads

Net margin (%) =
(Net profit ÷ Price) × 100
      </pre>

      <h2>Example</h2>
      <p>
        Selling at <strong>$50</strong> with a product cost of <strong>$15</strong>,
        platform fee <strong>15%</strong>, payment fee <strong>2.9%</strong>,
        shipping <strong>$5</strong>, and ads <strong>$10</strong>
        results in a net profit of <strong>$11.05</strong> and a net margin of
        <strong>22.1%</strong>.
      </p>

      <h2>FAQ</h2>
      <ul>
        <li><strong>Does this include taxes?</strong><br />No. Taxes vary by location.</li>
        <li><strong>Which platforms is this for?</strong><br />Amazon, Shopify, Etsy, and similar platforms.</li>
        <li><strong>Why is my margin lower than expected?</strong><br />Fees and ads add up quickly.</li>
        <li><strong>Can I use this before running ads?</strong><br />Yes. It’s ideal for planning.</li>
        <li><strong>Is it free?</strong><br />Yes. No login required.</li>
        <li><strong>Are formulas transparent?</strong><br />Yes. Shown above.</li>
      </ul>
    </section>

    <div class="back">
      <a href="/tools/e-commerce/">← Back to E-commerce Tools</a>
    </div>
  </article>

  <!-- STYLES -->
  <style>
    .page{ max-width: 1080px; }

    h1{ margin: 10px 0 8px; }
    .lead{ margin-bottom: 16px; font-size: 14px; color: var(--muted); }

    /* Calculator layout */
    .calcWrap{
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 20px;
      margin-top: 18px;
    }
    @media (max-width: 768px){
      .calcWrap{ grid-template-columns: 1fr; }
    }

    /* Left inputs */
    .calcLeft{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 768px){
      .calcLeft{ grid-template-columns: 1fr; }
    }

    .calcField label{
      font-size: 13px;
      font-weight: 800;
    }
    .calcField input{
      width: 100%;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(2,6,23,.15);
      font-size: 14px;
    }

    /* Right results */
    .calcRight{
      display: flex;
      align-items: flex-start;
    }
    .calcResultCard{
      width: 100%;
      padding: 20px;
      border-radius: 18px;
      background: rgba(2,6,23,.04);
      border: 1px solid rgba(2,6,23,.08);
      display: grid;
      gap: 16px;
    }
    .resultItem .label{
      font-size: 12px;
      color: var(--muted);
    }
    .resultItem .value{
      font-size: 24px;
      font-weight: 900;
    }

    /* Info */
    .info{ margin-top: 26px; }
    .info h2{ margin: 22px 0 8px; font-size: 18px; }
    .info p, .info li{ font-size: 14px; color: var(--muted); }
    .info ul{ margin: 10px 0 0 18px; }

    .formula{
      margin-top: 8px;
      padding: 14px;
      border-radius: 14px;
      background: rgba(2,6,23,.04);
      font-size: 13px;
    }

    .back{ margin-top: 26px; }
    .back a{ font-weight: 900; text-decoration: underline; }
  </style>

  <!-- SCRIPT -->
  <script>
    const $ = (id) => document.getElementById(id);

    function calculate(){
      const price = +$("price").value || 0;
      const cost = +$("cost").value || 0;
      const platformFee = +$("platformFee").value || 0;
      const paymentFee = +$("paymentFee").value || 0;
      const shipping = +$("shipping").value || 0;
      const ads = +$("ads").value || 0;

      const feeTotal =
        price * (platformFee / 100) +
        price * (paymentFee / 100);

      const netProfit = price - cost - feeTotal - shipping - ads;
      const netMargin = price > 0 ? (netProfit / price) * 100 : 0;

      $("netProfit").textContent = `$${netProfit.toFixed(2)}`;
      $("netMargin").textContent = `${netMargin.toFixed(1)}%`;
    }

    ["price","cost","platformFee","paymentFee","shipping","ads"]
      .forEach(id => $(id).addEventListener("input", calculate));
  </script>
</BaseLayout>
