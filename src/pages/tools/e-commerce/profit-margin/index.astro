---
import BaseLayout from "../../../../components/layout/BaseLayout.astro";
import { site } from "../../../../config/site";
---

<BaseLayout
  title="Profit Margin Calculator — Free & Instant | SimpleTools"
  description="Calculate net profit and net margin after all costs. Free, instant, and no login."
  canonical={`${site.url}/tools/e-commerce/profit-margin/`}
>
  <article class="page">
    <div class="badge">Free • No login • Instant</div>
    <h1>Profit Margin Calculator</h1>
    <p class="lead">
      Calculate your real profit and margin after product cost, fees, shipping, and ads.
    </p>

    <!-- CALCULATOR -->
    <section class="calcWrap">
      <!-- LEFT: INPUTS -->
      <div class="inputs">
        <div class="field">
          <label>Selling price (USD)</label>
          <input id="price" type="number" step="0.01" />
        </div>

        <div class="field">
          <label>Product cost (COGS)</label>
          <input id="cost" type="number" step="0.01" />
        </div>

        <div class="field">
          <label>Platform fee (%)</label>
          <input id="platformFee" type="number" step="0.1" />
        </div>

        <div class="field">
          <label>Payment fee (%)</label>
          <input id="paymentFee" type="number" step="0.1" />
        </div>

        <div class="field">
          <label>Shipping cost</label>
          <input id="shipping" type="number" step="0.01" />
        </div>

        <div class="field">
          <label>Ad cost per order</label>
          <input id="ads" type="number" step="0.01" />
        </div>
      </div>

      <!-- RIGHT: RESULTS -->
      <div class="results">
        <div class="resultBox">
          <div class="rLabel">Net Profit</div>
          <div class="rValue" id="netProfit">$0.00</div>
        </div>

        <div class="resultBox">
          <div class="rLabel">Net Margin</div>
          <div class="rValue" id="netMargin">0%</div>
        </div>
      </div>
    </section>

    <!-- INFO -->
    <section class="info">
      <h2>How it works</h2>
      <p>
        The calculator subtracts all variable costs from the selling price.
        Percentage-based fees are calculated from revenue, while shipping and ad costs
        are treated as fixed per order.
      </p>

      <h2>Formula</h2>
      <pre>
Net profit =
Price
− Product cost
− (Platform fee % × Price)
− (Payment fee % × Price)
− Shipping
− Ads

Net margin (%) =
(Net profit ÷ Price) × 100
      </pre>

      <h2>Example</h2>
      <p>
        Price $50, product cost $15, platform fee 15%, payment fee 2.9%,
        shipping $5, ads $10 → Net profit $11.05, margin 22.1%.
      </p>

      <h2>FAQ</h2>
      <h3>Does this include taxes?</h3>
      <p>No. Taxes vary by location and are excluded.</p>

      <h3>Which platforms can I use this for?</h3>
      <p>Amazon, Shopify, Etsy, or any platform with percentage fees.</p>

      <h3>Why is my margin lower than expected?</h3>
      <p>Fees and ads often take a larger share than expected.</p>
    </section>

    <div class="back">
      <a href="/tools/e-commerce/">← Back to E-commerce Tools</a>
    </div>
  </article>

  <!-- SCRIPT -->
  <script>
    const ids = [
      "price",
      "cost",
      "platformFee",
      "paymentFee",
      "shipping",
      "ads",
    ];

    ids.forEach((id) =>
      document.getElementById(id).addEventListener("input", calculate)
    );

    function v(id) {
      return Number(document.getElementById(id).value) || 0;
    }

    function calculate() {
      const price = v("price");
      if (price <= 0) {
        document.getElementById("netProfit").innerText = "$0.00";
        document.getElementById("netMargin").innerText = "0%";
        return;
      }

      const feeTotal =
        (v("platformFee") / 100) * price +
        (v("paymentFee") / 100) * price;

      const netProfit =
        price - v("cost") - feeTotal - v("shipping") - v("ads");

      const netMargin = (netProfit / price) * 100;

      document.getElementById("netProfit").innerText =
        `$${netProfit.toFixed(2)}`;
      document.getElementById("netMargin").innerText =
        `${netMargin.toFixed(1)}%`;
    }
  </script>

  <style>
    .page { max-width: 1000px; }
    .lead { font-size: 14px; color: var(--muted); }

    .calcWrap {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 16px;
      margin: 20px 0;
    }

    @media (max-width: 900px) {
      .calcWrap { grid-template-columns: 1fr; }
    }

    .inputs, .results {
      padding: 16px;
      border-radius: 18px;
      border: 1px solid rgba(2,6,23,.1);
      background: rgba(255,255,255,.75);
    }

    .field { margin-bottom: 10px; }
    label { font-size: 12px; font-weight: 900; }
    input {
      width: 100%;
      padding: 8px;
      border-radius: 10px;
      border: 1px solid rgba(2,6,23,.15);
    }

    .resultBox { margin-bottom: 16px; }
    .rLabel { font-size: 12px; color: var(--muted); }
    .rValue { font-size: 28px; font-weight: 900; }

    .info { margin-top: 28px; }
    .info h2 { margin-top: 20px; }
    pre {
      background: #0f172a;
      color: #fff;
      padding: 12px;
      border-radius: 12px;
      font-size: 12px;
    }
  </style>
</BaseLayout>
