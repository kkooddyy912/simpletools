---
import BaseLayout from "../../../../components/layout/BaseLayout.astro";
import "../../../../styles/calculator.css";
import { site } from "../../../../config/site";
---

<BaseLayout
  title="Profit Margin Calculator — Free & Instant | SimpleTools"
  description="Calculate net profit and profit margin after product cost, fees, shipping, and ads. Free, no login."
  canonical={`${site.url}/tools/e-commerce/profit-margin/`}
>
  <article class="page">
    <div class="badge">Free • No login • Instant</div>

    <h1>Profit Margin Calculator</h1>
    <p class="lead">
      Calculate your real profit and net margin after product cost, platform fees, payment fees,
      shipping, and ad spend.
    </p>

    <!-- Calculator -->
    <section class="calc">
      <div class="calcGrid">
        <div class="calcField">
          <label>Selling price (USD)</label>
          <input id="price" type="number" placeholder="e.g. 50" />
        </div>

        <div class="calcField">
          <label>Product cost (COGS)</label>
          <input id="cost" type="number" placeholder="e.g. 15" />
        </div>

        <div class="calcField">
          <label>Platform fee (%)</label>
          <input id="platformFee" type="number" placeholder="e.g. 15" />
        </div>

        <div class="calcField">
          <label>Payment fee (%)</label>
          <input id="paymentFee" type="number" placeholder="e.g. 2.9" />
        </div>

        <div class="calcField">
          <label>Shipping cost</label>
          <input id="shipping" type="number" placeholder="e.g. 5" />
        </div>

        <div class="calcField">
          <label>Ad cost per order</label>
          <input id="ads" type="number" placeholder="e.g. 10" />
        </div>
      </div>

      <div class="calcResult">
        <div>
          <div class="label">Net Profit</div>
          <div class="value" id="netProfit">$0.00</div>
        </div>
        <div>
          <div class="label">Net Margin</div>
          <div class="value" id="netMargin">0%</div>
        </div>
      </div>
    </section>

    <!-- Explanation -->
    <section class="info">
      <h2>How it works</h2>
      <p>
        The calculator subtracts all variable costs from the selling price.
        Percentage-based fees are calculated from revenue, while shipping and advertising
        costs are treated as fixed costs per order.
      </p>

      <h2>Formula</h2>
      <pre class="formula">
Net profit =
Price
− Product cost
− (Platform fee % × Price)
− (Payment fee % × Price)
− Shipping
− Ads

Net margin (%) =
(Net profit ÷ Price) × 100
      </pre>

      <h2>Example</h2>
      <p>
        If you sell a product for <strong>$50</strong> with a product cost of <strong>$15</strong>,
        a platform fee of <strong>15%</strong>, payment fee of <strong>2.9%</strong>,
        shipping cost of <strong>$5</strong>, and ad cost of <strong>$10</strong>,
        your net profit is <strong>$11.05</strong> and your net margin is <strong>22.1%</strong>.
      </p>

      <h2>FAQ</h2>
      <ul>
        <li>
          <strong>Does this include taxes?</strong><br />
          No. Taxes vary by location and are not included in this calculation.
        </li>
        <li>
          <strong>Which platforms is this for?</strong><br />
          Amazon, Shopify, Etsy, or any platform with percentage-based fees.
        </li>
        <li>
          <strong>Why is my margin lower than expected?</strong><br />
          Platform fees and advertising costs often take a larger share than expected.
        </li>
        <li>
          <strong>Can I use this before running ads?</strong><br />
          Yes. Use it to estimate how much ad spend you can afford per order.
        </li>
        <li>
          <strong>Is this calculator free?</strong><br />
          Yes. No login or payment is required.
        </li>
        <li>
          <strong>Are the formulas transparent?</strong><br />
          Yes. The exact formulas are shown above.
        </li>
      </ul>
    </section>

    <div class="back">
      <a href="/tools/e-commerce/">← Back to E-commerce Tools</a>
    </div>
  </article>

  <style>
    .page{ max-width: 980px; }
    h1{ margin: 10px 0 8px; }
    .lead{ margin-bottom: 16px; font-size: 14px; color: var(--muted); }

    .info{ margin-top: 22px; }
    .info h2{ margin: 22px 0 8px; font-size: 18px; letter-spacing:-0.02em; }
    .info p, .info li{ font-size: 14px; color: var(--muted); }
    .info ul{ margin: 10px 0 0 18px; }

    .formula{
      margin-top: 8px;
      padding: 14px;
      border-radius: 14px;
      background: rgba(2,6,23,.04);
      font-size: 13px;
      overflow-x: auto;
    }

    .back{ margin-top: 24px; }
    .back a{ font-weight: 900; text-decoration: underline; }

/* Force 2-column calculator layout on desktop */
.calcGrid{
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 14px !important;
}
@media (max-width: 768px){
  .calcGrid{
    grid-template-columns: 1fr !important;
  }
}

  </style>

  <script>
    const $ = (id) => document.getElementById(id);

    function calculate() {
      const price = +$("price").value || 0;
      const cost = +$("cost").value || 0;
      const platformFee = +$("platformFee").value || 0;
      const paymentFee = +$("paymentFee").value || 0;
      const shipping = +$("shipping").value || 0;
      const ads = +$("ads").value || 0;

      const feeTotal =
        price * (platformFee / 100) +
        price * (paymentFee / 100);

      const netProfit = price - cost - feeTotal - shipping - ads;
      const netMargin = price > 0 ? (netProfit / price) * 100 : 0;

      $("netProfit").textContent = `$${netProfit.toFixed(2)}`;
      $("netMargin").textContent = `${netMargin.toFixed(1)}%`;
    }

    ["price","cost","platformFee","paymentFee","shipping","ads"]
      .forEach(id => $(id).addEventListener("input", calculate));
  </script>
</BaseLayout>
